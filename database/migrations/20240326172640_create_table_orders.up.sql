CREATE TABLE orders (
    id INTEGER AUTO_INCREMENT,
    invoice VARCHAR(255) NOT NULL,
    total_final_price DECIMAL(15, 2) NOT NULL,
    total_product_price DECIMAL(15, 2) NOT NULL,
    discount_value FLOAT NULL,
    discount_type ENUM("nominal", "percent") NOT NULL,
    total_discount DECIMAL(15, 2) NULL,
    user_id INTEGER NOT NULL,
    first_name VARCHAR(100) NOT NULL,
    last_name VARCHAR(100) NOT NULL,
    email VARCHAR(255) NOT NULL,
    phone VARCHAR(100) NOT NULL,
    payment_gateway VARCHAR(20) NOT NULL,
    payment_method VARCHAR(20) NOT NULL,
    channel_code VARCHAR(20) NOT NULL,
    payment_status ENUM("cancelled", "unpaid", "pending", "paid", "expired", "failed") NOT NULL,
    order_status ENUM(
        "pending_order",
        "order_received",
        "order_being_delivered",
        "order_delivered",
        "ready_for_pickup",
        "order_rejected",
        "order_cancelled",
        "order_cancellation_requested"
    ) NOT NULL,
    is_delivery BOOLEAN NOT NULL,
    delivery_cost DECIMAL(15, 2) NOT NULL DEFAULT 0,
    complete_address TEXT NOT NULL,
    note TEXT NULL,
    service_fee DECIMAL(15, 2) NOT NULL DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (id)
) ENGINE = InnoDB;